<!DOCTYPE html>
<html>
    
    <head>
        <title> Web Dictionary</title>
        <h1>Web Dictionary</h1>
    </head>
    
    <script>
        window.onload=startUp;
        
        function startUp(){
            
            document.getElementById("searching").onclick= defin;
            document.getElementById("getAll").onclick= everyOne;
        }
            
        function everyOne(){
            var lmx = new XMLHttpRequest();
            var link = "https://lab6-dhughes23.c9users.io/request.php?q=&all=true";
            var rist=document.createElement("OL");
            lmx.onreadystatechange = function(){
                if (lmx.readyState === XMLHttpRequest.DONE) {
                    if (lmx.status === 200){
                        var res = lmx.responseText;
                        for (var t=0; t < 7; t++){
                            rist+="<li>" + res[t] + "</li>";
                        }
                        
                        document.getElementById("result").innerHTML=res;
                        
                    }
                }
            }
            lmx.open('GET', link);
            lmx.send();
            console.log('984172');
        }
        
        function defin(){
            var sear=document.getElementById("hat").value;
            var hst = new XMLHttpRequest();
            var url = "https://lab6-dhughes23.c9users.io/request.php?q=" + sear;
            hst.onreadystatechange = function(){
                if (hst.readyState === XMLHttpRequest.DONE) {
                    if (hst.status === 200){
                        var res = hst.responseText;
                        document.getElementById("result").innerHTML=res;
                    }
                }
            }
            hst.open('GET', url);
            hst.send();
        }
        
    </script>
    
    <body>
        <div id=ask>
            Look up the definition of a word (eg. ajax, html, bar).</br>
            <input id="hat" type="text" name="sTerm"></br>
        </div>
        <button id="searching">Search</button>
        <button id="getAll">Get All Definitions</button></br>
        
        <hr>
        
        <div id=result>
            <h3>Results</h3>
        </div>
        
    </body>
    
</html>